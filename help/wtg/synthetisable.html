<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>help:wtg:synthetisable - Workcraft</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="help,wtg,synthetisable"/>
<link rel="search" type="application/opensearchdescription+xml" href="../lib/exe/opensearch.html" title="Workcraft"/>
<link rel="start" href="synthetisable.html"/>
<link rel="contents" href="synthetisable.html" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Changes" />
<link rel="alternate" type="application/rss+xml" title="Current namespace" />
<link rel="edit" title="Edit this page" href="synthetisable.html"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../_export/xhtml/help/wtg/synthetisable.xhtml"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../_export/raw/help/wtg/synthetisable.raw"/>
<link rel="canonical" href="https://workcraft.org/help/wtg/synthetisable"/>
<link rel="stylesheet" type="text/css" href="../lib/exe/css.php.t.dokuwiki-light-export.css"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='help:wtg';var SIG=' --- //[[support@workcraft.org| ]] 2020/06/16 09:41//';var JSINFO = {"id":"help:wtg:synthetisable","namespace":"help:wtg","fastwiki":{"secedit":1,"preview":1,"fastpages":1,"save":0,"fastshow":0,"fastshow_same_ns":1,"fastshow_include":"","fastshow_exclude":"","preload":false,"preload_head":"====47hsjwycv782nwncv8b920m8bv72jmdm3929bno3b3====","preload_batchsize":false,"preload_per_page":false,"locktime":840,"usedraft":1,"text_btn_show":"Show page","templatename":"dokuwiki-light-export"},"move_renameokay":true,"plugin_folded":{"hide":"hide","reveal":"reveal"}};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../lib/exe/jquery.php.t.dokuwiki-light-export.js"></script>
<script type="text/javascript" charset="utf-8" src="../lib/exe/js.php.t.dokuwiki-light-export.js"></script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../favicon.ico" />
<link rel="apple-touch-icon" href="../apple-touch-icon.png" />
    </head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki-light-export loggedIn    ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

        <h1><a href="../start.html"  title="Workcraft start page"><img src="../logo.png" width="327" height="57" alt="" /></a></h1>
    
    <div class="tools group">
        <!-- USER TOOLS -->
<!--
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="synthetisable.html"  class="action admin" rel="nofollow" title="Admin">Admin</a></li><li><a href="synthetisable.html"  class="action profile" rel="nofollow" title="Profile">Profile</a></li><li><a href="synthetisable.html"  class="action logout" rel="nofollow" title="Log Out">Log Out</a></li>                </ul>
            </div>
        -->

        <!-- SEARCH TOOLS -->
<!--
        <div id="dokuwiki__searchtools">
            <h3 class="a11y"></h3>
            <form action="../start.html" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" placeholder="Search" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><button type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>        </div>
-->

        <!-- SITE TOOLS -->
<!--
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
                            <div class="mobileTools">
                    <form action="..//doku.html.doku.php.html" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="help:wtg:synthetisable" /><input type="hidden" name="sectok" value="d503ab0b60adb84e30e5cb398ae2cdf3" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Edit this page</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Changes</option><option value="media">Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="logout">Log Out</option><option value="profile">Profile</option><option value="admin">Admin</option></optgroup></select><button type="submit">&gt;</button></div></form>                </div>
                <ul>
                    <li><a href="synthetisable.html"  class="action recent" accesskey="r" rel="nofollow" title="Changes [R]">Changes</a></li><li><a href="synthetisable.html"  class="action media" rel="nofollow" title="Manager">Manager</a></li><li><a href="synthetisable.html"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>                </ul>
                    </div>
-->
    </div>

    <!-- BREADCRUMBS -->
<!--
    -->



    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>help:wtg:synthetisable</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <div class="plugin_fastwiki_marker" style="display:none"></div>
<h1 id="design_of_synthetisable_models">Design of synthetisable models</h1>
<div class="level1">

<p>
Like other models for asynchronous circuit design, <abbr title="Waveform Transition Graph">WTG</abbr> allows to express behaviors that cannot be synthesised without making timing assumptions. For example, it is possible to design a D Flip-Flop by using <abbr title="Waveform Transition Graph">WTG</abbr>, but it is necessary to make timing assumptions in the form of <em>setup</em> and <em>hold</em> times. Having this large expressiveness is valuable to allow the design of a wider range of models, but having timing assumptions precludes the design from being speed-independent (SI). In this page we discuss the main problems that you might encounter while designing <abbr title="Waveform Transition Graph">WTG</abbr> and propose a set of guidelines to avoid designing a model that cannot be synthesised as a SI circuit.
</p>

</div>

<h2 id="irreducible_conflicts">Irreducible conflicts</h2>
<div class="level2">

<p>
An irreducible conflict is a conflict between two states of the model that cannot be resolved without the introduction of timing assumptions. For example, consider the following waveform: 
</p>

<p>
<img src="../overview/wtg-irreducible_conflict.svg" width="127" height="67" class="svgscaleinsert mediacenter" alt="overview:wtg-irreducible_conflict.svg">
</p>

<p>
As you can see, the input signal <code><span style='color:red; '>x0</span></code> fires two times in a row and then it triggers the output signal <code><span style='color:blue; '>x1</span></code>. From the synthesis point of view, this represents an irreducible conflict: the encoding of signals before the <code>rise</code> transition of <code><span style='color:red; '>x0</span></code> is the same as the encoding after the <code>fall</code> of <code><span style='color:red; '>x0</span></code>, yet, in the latter case, the signal <code><span style='color:blue; '>x1</span></code> must fire. This presents a situation that cannot be distinguished in any circuit and therefore it cannot be synthesised. 
</p>

<p>
Perhaps a more intuitive idea of the problem comes from trying to imagine how such a circuit could work. The model of the figure implies that our imaginary circuit must be able to detect a pulse of signal <code><span style='color:red; '>x0</span></code> and then fire <code><span style='color:blue; '>x1</span></code>. This seems simple enough until you consider that there are no timing assumptions in that model. According to the model, the circuit will have to detect a pulse of any duration; it should work for a pulse of 1ns all the same as for 1ps pulse, or even shorter. One can see that such a circuit cannot be realised in the real world.
</p>

<p>
Indeed, adding a timing assumption solves the problem. The following figure shows how such a timing assumption looks like:
</p>

<p>
<img src="../overview/wtg-timing_assumption.svg" width="149" height="90" class="svgscaleinsert mediacenter" alt="overview:wtg-timing_assumption.svg">
</p>

<p>
In this case we added the internal signal <code><span style='color:green; '>x2</span></code> between the transitions of signal <code><span style='color:red; '>x0</span></code>. This means that there is a state in our circuit that detects the <code>rise</code> edge of <code><span style='color:red; '>x0</span></code>. After this detection is made, <code><span style='color:red; '>x0</span></code> can fire again. But note that the environment cannot observe internal signals. In practice, this means that this circuit will only work if <code><span style='color:red; '>x0</span></code> fires the second transition slower than our circuit can detect the pulse. In terms of synchronous design, this is a <em>hold</em> restriction.
</p>

<p>
Seeing this example already suggests how to design SI circuits: a transition for an input signal should always be acknowledged by an output signal. In the case of <abbr title="Waveform Transition Graph">WTG</abbr>, this means that at least one output transition should always fire between two transitions of the same input signal. For  <code>destabilise</code> transitions, the duo <code>destabilise</code>-<code>stabilise</code> can be considered as a single transition. Yet keep in mind that a <em>guard</em> is also a <code>stabilise</code> transition and an output signal should fire between a guard and the next transition for the guarded signal.
</p>

<p>
Since it is not always obvious when this condition is followed, Workcraft has included a verification command to automatically check for it. You can access it by selecting <em>Synthesis guidelines</em> in the <em>Verification</em> menu.
</p>

</div>

<h2 id="commutativity">Commutativity</h2>
<div class="level2">

<p>
Following the previous rule prevents most irreducible conflicts, but those can still occur by other mechanisms when there are choices. Consider the following figure:
</p>

<p>
<img src="../overview/wtg-non_commutativity.svg" width="363" height="196" class="svgscaleinsert mediacenter" alt="overview:wtg-non_commutativity.svg">
</p>

<p>
In this case, the input signals <code><span style='color:red; '>x0</span></code> and <code><span style='color:red; '>x1</span></code> do not fire twice without an output in between. Even so, this figure shows another example of irreducible conflicts due to <em>non-commutativity</em>. Non-commutativity occurs when two traces that differ only in the ordering lead to completely different states. In our case, we can see that the first transitions after the choice are <code><span style='color:red; '>x0-</span></code> in <em>w1</em> (followed by <code><span style='color:red; '>x1-</span></code>) and <code><span style='color:red; '>x1-</span></code> in <em>w2</em> (followed by <code><span style='color:red; '>x0-</span></code>). This leads to <code><span style='color:blue; '>x2-</span></code> in <em>w1</em> and to <code><span style='color:blue; '>x3-</span></code> in <em>w2</em>.
</p>

<p>
This again presents an irreducible conflict because the encoding after <code><span style='color:red; '>x1-</span></code> in <em>w1</em> is the same as the encoding after <code><span style='color:red; '>x0-</span></code> in <em>w2</em>, yet the circuit must produce different outputs. The intuition can come again from considering how such a circuit would have to work. In this case, the circuit needs to know which transition comes first, <code><span style='color:red; '>x0-</span></code> or <code><span style='color:red; '>x1-</span></code>. Similar to the previous case, this means such a circuit would potentially need infinite time resolution, which is not possible in the real world.
</p>

<p>
Preventing these conflicts requires being careful when modelling choices. While not necessary, having an output as the second transition after a choice (note that an output cannot be the first transition after a choice) will avoid non-commutativity, as long as the previous guidelines are also followed. Otherwise, make sure the same transitions do not fire, in any pair of waveforms after a choice, before an output does. 
</p>

</div>

<h2 id="output_determinacy">Output determinacy</h2>
<div class="level2">

<p>
The last type of irreducible conflicts that we discuss here are also related to choices. Take a look at the following figure:
</p>

<p>
<img src="../overview/wtg-non_output_determinate.svg" width="363" height="196" class="svgscaleinsert mediacenter" alt="overview:wtg-non_output_determinate.svg">
</p>

<p>
This example shows a <em>non-output determinate</em> <abbr title="Waveform Transition Graph">WTG</abbr>. The figure is very similar to the non-commutativity one, but in this case both waveforms have the input signals fire in the same order, yet they need to trigger a different behavior. An output determinate model ensures that two identical traces (sequences of transitions) must enable the same outputs. Violation of this condition leads to irreducible conflicts for similar reasons as the non-commutativity example, but the intuition is a bit different. In this case, the issue is that our fictitious circuit should know which output to fire, <code><span style='color:blue; '>x2-</span></code> or <code><span style='color:blue; '>x3-</span></code>, without any way to differentiate the decision that the environment transitions took in the choice. 
</p>

<p>
Having these conflicts typically signals an error in the design itself. Avoid them by making sure you are not trying to express two different behaviors for the same inputs. 
</p>

</div>

                    <!-- wikipage stop -->
                                    </div>
<!--
                                    <div class="docInfo"><bdi>help/wtg/synthetisable.txt</bdi> · Last modified: 2018/11/13 16:02 by <bdi>danil</bdi></div>
                -->

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
<!--
            <div id="dokuwiki__pagetools">
                            <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="synthetisable.html"  class="action edit" accesskey="e" rel="nofollow" title="Edit this page [E]"><span>Edit this page</span></a></li><li><a href="synthetisable.html"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="synthetisable.html"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="synthetisable.html"  class="action export_pdf" rel="nofollow" title="Export to PDF"><span>Export to PDF</span></a></li><li class="plugin_move_page"><a href="synthetisable.html"><span>Rename Page</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li><li><a href="synthetisable.html"  class="action siteexport_addpage" title="Export Page (Siteexport)"><span>Export Page</span></a></li><li><a href="javascript:void(0);" class="fold_unfold_all" onclick="fold_unfold_all();" rel="nofollow" title="Fold/unfold all"><span>Fold/unfold all</span></a></li><li><a href="synthetisable.html"  class="action siteexport_mapid" title="Show Map-ID"" data-mapid="synthetisable" onclick="copyMapIDToClipBoard.call(this); return false;"><span>Copy Map-ID: <span class="mapID" data-done="Done.">synthetisable</span></span></a></li>                    </ul>
                </div>
                        </div>
-->
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
<!--
    
    <div class="buttons">
                <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://php.net" title="Powered by PHP" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
    <div class="userInfo">
        Logged in as: workcraft    </div>
-->
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img  width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div></body>
</html>
